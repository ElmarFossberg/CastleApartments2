{% extends 'base.html' %}
{% load static %}
{% block content %}
<div>
    <a class="go-back-button" href="javascript:history.back()"><i class="fa fa-arrow-left"></i> Go back</a>
</div>
<div class="apartment-detail-container">
    <h1 class="apartment-title">{{ apartment.address }}, {{ apartment.postal_code }} </h1>
    
    <div class="apartment-info-grid">
        <div class="apartment-image">
            <!-- Placeholder for image - in a real app you'd have an image field in your model -->
            <div class="image-placeholder">
            <img src="{{ images.0.image }}" alt="{{ apartment.address }}" />
            </div>
        </div>
        
        <div class="apartment-details">
            <div class="detail-row">
                <span class="detail-label-apartment-detail">Listed:</span>
                <span class="detail-value"></span>
            </div>

            <div class="detail-row">
                <span class="detail-label-apartment-detail">Type:</span>
                <span class="detail-value">{{ apartment.type }}</span>
            </div>
            
            <div class="detail-row">
                <span class="detail-label-apartment-detail">Size:</span>
                <span class="detail-value">{{ apartment.square_meters }} mÂ²</span>
            </div>
            
            <div class="detail-row">
                <span class="detail-label-apartment-detail">Rooms:</span>
                <span class="detail-value">{{ apartment.number_of_rooms }}</span>
            </div>
            
            <div class="detail-row full-width">
                <span class="detail-label-apartment-detail">Postal Code:</span>
                <span class="detail-value-status">{{ apartment.postal_code }} {{ apartment.postal_code.city_name }}</span>
            </div>

            <div class="detail-row">
                <span class="detail-label-apartment-detail">Status:</span>
                <span class="detail-value {% if apartment.sold %}sold{% else %}available{% endif %}">
                    {% if apartment.sold %}Sold{% else %}Available{% endif %}
                </span>
            </div>
            
            <div class="detail-row full-width">
                <span class="detail-label">Address:</span>
                <span class="detail-value">{{ apartment.address }}, {{ apartment.postal_code }}</span>
            </div>
            
            <a class="button" href="javascript:history.back()">Go back</a>
            <button class="button">Submit a purchase offer</button>
            <form method="post" action="{% url 'favourite' %}">
                {% csrf_token %}
                <input type="hidden" name="apartment_id" value="{{ apartment.id }}">
                {% if apartment.is_favourited %}
                    <button class="button" type="submit">Unfavourite</button>
                {% else %}
                    <button class="button" type="submit">Favourite</button>
                {% endif %}
            </form>
        </div>

    <div class="apartment-price">
                <span class="price-detail-value">{{ apartment.formatted_price }} kr.</span>

            </div>
    <div class="favourite-and-offer-buttons">
        <button class="button">Submit a purchase offer</button>
        <button class="button">Favourite</button>
    </div>
    </div>
    
    <div class="apartment-description">
        <h2>Description</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam in dui mauris. Vivamus hendrerit arcu sed erat molestie vehicula. Sed auctor neque eu tellus rhoncus ut eleifend nibh porttitor.</p>
        <!-- In a real app, you'd have a description field in your model -->
    </div>
</div>
{% endblock %}
